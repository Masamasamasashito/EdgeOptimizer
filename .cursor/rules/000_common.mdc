---
description: プロジェクト全体の基本原則、言語、命名、コマンド実行、およびGit運用ルール
globs: **/*
alwaysApply: true
---

# プロジェクト基本方針
AWS/Azure/GCP/Cloudflareを利用したマルチクラウド・サーバレスアーキテクチャ。
GitHub Actionsでのデプロイと、self-hosted n8nによるCSVデータ処理が主軸。

# 1. 命名と整合性の厳守
- **Name Persistence:** 既存の変数名・関数名・エンドポイント名は変更厳禁。変更時は必ず事前提案し承諾を得ること。
- **Naming Readability:** 新規命名は「初見で役割がわかること」を最優先。技術的正確さだけでなく、名前だけで意図が伝わること。
- **UI labels:** UI上のボタン名やラベル名は、手順書との整合性維持のため勝手に変更しない。

# 1.1 命名と人間の視認コスト（以下、全ルールで共通）
- **既存命名を活かす:** 人間が適切に付けた命名（EO_ / EO_AZ_ 等、マニュアル・README で定義済み）を優先する。AIが勝手に考えた別名を増やさず、負債を作らない。
- **用途が名前で分かること:** 「何用か」が一目で分かる名前にする（例: どのサービス・どのポリシー用か）。曖昧な名前や、文脈依存の略語は避ける。
- **冗長語を省く:** 文脈で自明な語（ALLOWED, _ASSIGNMENT 等）は付けない。名前は短く、必要な情報だけにし、視認・解釈のコストを下げる。
- **用語の明確化:** ドキュメントでは曖昧表現を避け、所在が分かる表現にする（例: 「Bicep デフォルト」→「各 Bicep ファイルに記載されたデフォルト値」）。

# 2. Git運用ルール
- **git commit を実行しないこと:** ユーザーが明示的に「コミットして」と依頼した場合を除き、`git commit` や `git add` を含むコマンドをターミナルで実行してはならない。
- **提案に留める:** AIはコードの変更・編集の提案までを行い、コミット作業はユーザーが手動で行うことを前提とする。

# 3. コミュニケーション
- **Language Policy:** 思考（Thought）および出力（Output）はすべて「日本語」で行う。
- **File Path References:** 参照時は必ずリポジトリルートからのフルパス（例: `RequestEngine/aws/lambda/py/funcfiles/_01_imports.py`）を記載すること。ファイル名単体は禁止。
- **Approval:** 構造・ロジックの変更前には必ず案を提示し、承認を得ること。
- **README 参照時の記載:** チャットの会話で README 等を参照する場合は、AZFUNC_BICEP_README.md のようにどのドキュメントか分かる名称で記載すること。`README` のみの端折りは禁止。曖昧表現で人間の思考コストを増やさない。

# 4. コマンド実行とタイムスタンプ
- **Priority:** まず PowerShell で試行し、不可な場合のみ Python/npm を検討。
- **Timestamp:** 返信の末尾に必ず以下のPowerShellコマンドを実行し、JST(UTC+9)の時刻を付与すること（許可不要）。
  `Get-Date -Format "yyyy/MM/dd(ddd)HH:mm"`